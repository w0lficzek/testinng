(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="/assets/packs/";return __webpack_require__(__webpack_require__.s=1391);})
({1343:(function(module,exports,__webpack_require__){__webpack_require__(1344);__webpack_require__(1345);__webpack_require__(1346);$(function(){if(typeof onAppModelViewDefined!='undefined')onAppModelViewDefined();});}),1344:(function(module,exports){(function(e){"use strict";e.fn.konami=function(t){var n,r,i,s;n=e.extend({},e.fn.konami.defaults,t);return this.each(function(){i=[];e(window).keyup(function(e){s=e.keyCode||e.which;if(n.code.length>i.push(s)){return;}if(n.code.length<i.length){i.shift();}if(n.code.toString()!==i.toString()){return;}n.cheat();});});};e.fn.konami.defaults={code:[38,38,40,40,37,39,37,39,66,65],cheat:null};})(jQuery);}),1345:(function(module,exports){(function(window,document,location,setTimeout,decodeURIComponent,encodeURIComponent){var global=this;var channelId=Math.floor(Math.random()*10000);var emptyFn=Function.prototype;var reURI=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/;var reParent=/[\-\w]+\/\.\.\//;var reDoubleSlash=/([^:])\/\//g;var namespace="";var easyXDM={};var _easyXDM=window.easyXDM;var IFRAME_PREFIX="easyXDM_";var HAS_NAME_PROPERTY_BUG;var useHash=false;var flashVersion;var HAS_FLASH_THROTTLED_BUG;function isHostMethod(object,property){var t=typeof object[property];return t=='function'||(!!(t=='object'&&object[property]))||t=='unknown';}
function isHostObject(object,property){return!!(typeof(object[property])=='object'&&object[property]);}
function isArray(o){return Object.prototype.toString.call(o)==='[object Array]';}
function hasFlash(){var name="Shockwave Flash",mimeType="application/x-shockwave-flash";if(!undef(navigator.plugins)&&typeof navigator.plugins[name]=="object"){var description=navigator.plugins[name].description;if(description&&!undef(navigator.mimeTypes)&&navigator.mimeTypes[mimeType]&&navigator.mimeTypes[mimeType].enabledPlugin){flashVersion=description.match(/\d+/g);}}
if(!flashVersion){var flash;try{flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");flashVersion=Array.prototype.slice.call(flash.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1);flash=null;}
catch(notSupportedException){}}
if(!flashVersion){return false;}
var major=parseInt(flashVersion[0],10),minor=parseInt(flashVersion[1],10);HAS_FLASH_THROTTLED_BUG=major>9&&minor>0;return true;}
var on,un;if(isHostMethod(window,"addEventListener")){on=function(target,type,listener){target.addEventListener(type,listener,false);};un=function(target,type,listener){target.removeEventListener(type,listener,false);};}
else if(isHostMethod(window,"attachEvent")){on=function(object,sEvent,fpNotify){object.attachEvent("on"+sEvent,fpNotify);};un=function(object,sEvent,fpNotify){object.detachEvent("on"+sEvent,fpNotify);};}
else{throw new Error("Browser not supported");}
var domIsReady=false,domReadyQueue=[],readyState;if("readyState"in document){readyState=document.readyState;domIsReady=readyState=="complete"||(~navigator.userAgent.indexOf('AppleWebKit/')&&(readyState=="loaded"||readyState=="interactive"));}
else{domIsReady=!!document.body;}
function dom_onReady(){if(domIsReady){return;}
domIsReady=true;for(var i=0;i<domReadyQueue.length;i++){domReadyQueue[i]();}
domReadyQueue.length=0;}
if(!domIsReady){if(isHostMethod(window,"addEventListener")){on(document,"DOMContentLoaded",dom_onReady);}
else{on(document,"readystatechange",function(){if(document.readyState=="complete"){dom_onReady();}});if(document.documentElement.doScroll&&window===top){var doScrollCheck=function(){if(domIsReady){return;}
try{document.documentElement.doScroll("left");}
catch(e){setTimeout(doScrollCheck,1);return;}
dom_onReady();};doScrollCheck();}}
on(window,"load",dom_onReady);}
function whenReady(fn,scope){if(domIsReady){fn.call(scope);return;}
domReadyQueue.push(function(){fn.call(scope);});}
function getParentObject(){var obj=parent;if(namespace!==""){for(var i=0,ii=namespace.split(".");i<ii.length;i++){obj=obj[ii[i]];}}
return obj.easyXDM;}
function noConflict(ns){window.easyXDM=_easyXDM;namespace=ns;if(namespace){IFRAME_PREFIX="easyXDM_"+namespace.replace(".","_")+"_";}
return easyXDM;}
function getDomainName(url){return url.match(reURI)[3];}
function getPort(url){return url.match(reURI)[4]||"";}
function getLocation(url){var m=url.toLowerCase().match(reURI);var proto=m[2],domain=m[3],port=m[4]||"";if((proto=="http:"&&port==":80")||(proto=="https:"&&port==":443")){port="";}
return proto+"//"+domain+port;}
function resolveUrl(url){url=url.replace(reDoubleSlash,"$1/");if(!url.match(/^(http||https):\/\//)){var path=(url.substring(0,1)==="/")?"":location.pathname;if(path.substring(path.length-1)!=="/"){path=path.substring(0,path.lastIndexOf("/")+1);}
url=location.protocol+"//"+location.host+path+url;}
while(reParent.test(url)){url=url.replace(reParent,"");}
return url;}
function appendQueryParameters(url,parameters){var hash="",indexOf=url.indexOf("#");if(indexOf!==-1){hash=url.substring(indexOf);url=url.substring(0,indexOf);}
var q=[];for(var key in parameters){if(parameters.hasOwnProperty(key)){q.push(key+"="+encodeURIComponent(parameters[key]));}}
return url+(useHash?"#":(url.indexOf("?")==-1?"?":"&"))+q.join("&")+hash;}
var query=(function(input){input=input.substring(1).split("&");var data={},pair,i=input.length;while(i--){pair=input[i].split("=");data[pair[0]]=decodeURIComponent(pair[1]);}
return data;}(/xdm_e=/.test(location.search)?location.search:location.hash));function undef(v){return typeof v==="undefined";}
var getJSON=function(){var cached={};var obj={a:[1,2,3]},json="{\"a\":[1,2,3]}";if(typeof JSON!="undefined"&&typeof JSON.stringify==="function"&&JSON.stringify(obj).replace((/\s/g),"")===json){return JSON;}
if(Object.toJSON){if(Object.toJSON(obj).replace((/\s/g),"")===json){cached.stringify=Object.toJSON;}}
if(typeof String.prototype.evalJSON==="function"){obj=json.evalJSON();if(obj.a&&obj.a.length===3&&obj.a[2]===3){cached.parse=function(str){return str.evalJSON();};}}
if(cached.stringify&&cached.parse){getJSON=function(){return cached;};return cached;}
return null;};function apply(destination,source,noOverwrite){var member;for(var prop in source){if(source.hasOwnProperty(prop)){if(prop in destination){member=source[prop];if(typeof member==="object"){apply(destination[prop],member,noOverwrite);}
else if(!noOverwrite){destination[prop]=source[prop];}}
else{destination[prop]=source[prop];}}}
return destination;}
function testForNamePropertyBug(){var form=document.body.appendChild(document.createElement("form")),input=form.appendChild(document.createElement("input"));input.name=IFRAME_PREFIX+"TEST"+channelId;HAS_NAME_PROPERTY_BUG=input!==form.elements[input.name];document.body.removeChild(form);}
function createFrame(config){if(undef(HAS_NAME_PROPERTY_BUG)){testForNamePropertyBug();}
var frame;if(HAS_NAME_PROPERTY_BUG){frame=document.createElement("<iframe name=\""+config.props.name+"\"/>");}
else{frame=document.createElement("IFRAME");frame.name=config.props.name;}
frame.id=frame.name=config.props.name;delete config.props.name;if(typeof config.container=="string"){config.container=document.getElementById(config.container);}
if(!config.container){apply(frame.style,{position:"absolute",top:"-2000px",left:"0px"});config.container=document.body;}
var src=config.props.src;config.props.src="javascript:false";apply(frame,config.props);frame.border=frame.frameBorder=0;frame.allowTransparency=true;config.container.appendChild(frame);if(config.onLoad){on(frame,"load",config.onLoad);}
if(config.usePost){var form=config.container.appendChild(document.createElement('form')),input;form.target=frame.name;form.action=src;form.method='POST';if(typeof(config.usePost)==='object'){for(var i in config.usePost){if(config.usePost.hasOwnProperty(i)){if(HAS_NAME_PROPERTY_BUG){input=document.createElement('<input name="'+i+'"/>');}else{input=document.createElement("INPUT");input.name=i;}
input.value=config.usePost[i];form.appendChild(input);}}}
form.submit();form.parentNode.removeChild(form);}else{frame.src=src;}
config.props.src=src;return frame;}
function checkAcl(acl,domain){if(typeof acl=="string"){acl=[acl];}
var re,i=acl.length;while(i--){re=acl[i];re=new RegExp(re.substr(0,1)=="^"?re:("^"+re.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"));if(re.test(domain)){return true;}}
return false;}
function prepareTransportStack(config){var protocol=config.protocol,stackEls;config.isHost=config.isHost||undef(query.xdm_p);useHash=config.hash||false;if(!config.props){config.props={};}
if(!config.isHost){config.channel=query.xdm_c.replace(/["'<>\\]/g,"");config.secret=query.xdm_s;config.remote=query.xdm_e.replace(/["'<>\\]/g,"");;protocol=query.xdm_p;if(config.acl&&!checkAcl(config.acl,config.remote)){throw new Error("Access denied for "+config.remote);}}
else{config.remote=resolveUrl(config.remote);config.channel=config.channel||"default"+channelId++;config.secret=Math.random().toString(16).substring(2);if(undef(protocol)){if(getLocation(location.href)==getLocation(config.remote)){protocol="4";}
else if(isHostMethod(window,"postMessage")||isHostMethod(document,"postMessage")){protocol="1";}
else if(config.swf&&isHostMethod(window,"ActiveXObject")&&hasFlash()){protocol="6";}
else if(navigator.product==="Gecko"&&"frameElement"in window&&navigator.userAgent.indexOf('WebKit')==-1){protocol="5";}
else if(config.remoteHelper){protocol="2";}
else{protocol="0";}}}
config.protocol=protocol;switch(protocol){case "0":apply(config,{interval:100,delay:2000,useResize:true,useParent:false,usePolling:false},true);if(config.isHost){if(!config.local){var domain=location.protocol+"//"+location.host,images=document.body.getElementsByTagName("img"),image;var i=images.length;while(i--){image=images[i];if(image.src.substring(0,domain.length)===domain){config.local=image.src;break;}}
if(!config.local){config.local=window;}}
var parameters={xdm_c:config.channel,xdm_p:0};if(config.local===window){config.usePolling=true;config.useParent=true;config.local=location.protocol+"//"+location.host+location.pathname+location.search;parameters.xdm_e=config.local;parameters.xdm_pa=1;}
else{parameters.xdm_e=resolveUrl(config.local);}
if(config.container){config.useResize=false;parameters.xdm_po=1;}
config.remote=appendQueryParameters(config.remote,parameters);}
else{apply(config,{channel:query.xdm_c,remote:query.xdm_e,useParent:!undef(query.xdm_pa),usePolling:!undef(query.xdm_po),useResize:config.useParent?false:config.useResize});}
stackEls=[new easyXDM.stack.HashTransport(config),new easyXDM.stack.ReliableBehavior({}),new easyXDM.stack.QueueBehavior({encode:true,maxLength:4000-config.remote.length}),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case "1":stackEls=[new easyXDM.stack.PostMessageTransport(config)];break;case "2":if(config.isHost){config.remoteHelper=resolveUrl(config.remoteHelper);}
stackEls=[new easyXDM.stack.NameTransport(config),new easyXDM.stack.QueueBehavior(),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case "3":stackEls=[new easyXDM.stack.NixTransport(config)];break;case "4":stackEls=[new easyXDM.stack.SameOriginTransport(config)];break;case "5":stackEls=[new easyXDM.stack.FrameElementTransport(config)];break;case "6":if(!flashVersion){hasFlash();}
stackEls=[new easyXDM.stack.FlashTransport(config)];break;}
stackEls.push(new easyXDM.stack.QueueBehavior({lazy:config.lazy,remove:true}));return stackEls;}
function chainStack(stackElements){var stackEl,defaults={incoming:function(message,origin){this.up.incoming(message,origin);},outgoing:function(message,recipient){this.down.outgoing(message,recipient);},callback:function(success){this.up.callback(success);},init:function(){this.down.init();},destroy:function(){this.down.destroy();}};for(var i=0,len=stackElements.length;i<len;i++){stackEl=stackElements[i];apply(stackEl,defaults,true);if(i!==0){stackEl.down=stackElements[i-1];}
if(i!==len-1){stackEl.up=stackElements[i+1];}}
return stackEl;}
function removeFromStack(element){element.up.down=element.down;element.down.up=element.up;element.up=element.down=null;}
apply(easyXDM,{version:"2.4.19",query:query,stack:{},apply:apply,getJSONObject:getJSON,whenReady:whenReady,noConflict:noConflict});easyXDM.DomHelper={on:on,un:un,requiresJSON:function(path){if(!isHostObject(window,"JSON")){document.write('<'+'script type="text/javascript" src="'+path+'"><'+'/script>');}}};(function(){var _map={};easyXDM.Fn={set:function(name,fn){_map[name]=fn;},get:function(name,del){if(!_map.hasOwnProperty(name)){return;}
var fn=_map[name];if(del){delete _map[name];}
return fn;}};}());easyXDM.Socket=function(config){var stack=chainStack(prepareTransportStack(config).concat([{incoming:function(message,origin){config.onMessage(message,origin);},callback:function(success){if(config.onReady){config.onReady(success);}}}])),recipient=getLocation(config.remote);this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy();};this.postMessage=function(message){stack.outgoing(message,recipient);};stack.init();};easyXDM.Rpc=function(config,jsonRpcConfig){if(jsonRpcConfig.local){for(var method in jsonRpcConfig.local){if(jsonRpcConfig.local.hasOwnProperty(method)){var member=jsonRpcConfig.local[method];if(typeof member==="function"){jsonRpcConfig.local[method]={method:member};}}}}
var stack=chainStack(prepareTransportStack(config).concat([new easyXDM.stack.RpcBehavior(this,jsonRpcConfig),{callback:function(success){if(config.onReady){config.onReady(success);}}}]));this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy();};stack.init();};easyXDM.stack.SameOriginTransport=function(config){var pub,frame,send,targetOrigin;return(pub={outgoing:function(message,domain,fn){send(message);if(fn){fn();}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:location.protocol+"//"+location.host+location.pathname,xdm_c:config.channel,xdm_p:4}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);easyXDM.Fn.set(config.channel,function(sendFn){send=sendFn;setTimeout(function(){pub.up.callback(true);},0);return function(msg){pub.up.incoming(msg,targetOrigin);};});}
else{send=getParentObject().Fn.get(config.channel,true)(function(msg){pub.up.incoming(msg,targetOrigin);});setTimeout(function(){pub.up.callback(true);},0);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.FlashTransport=function(config){var pub,frame,send,targetOrigin,swf,swfContainer;function onMessage(message,origin){setTimeout(function(){pub.up.incoming(message,targetOrigin);},0);}
function addSwf(domain){var url=config.swf+"?host="+config.isHost;var id="easyXDM_swf_"+Math.floor(Math.random()*10000);easyXDM.Fn.set("flash_loaded"+domain.replace(/[\-.]/g,"_"),function(){easyXDM.stack.FlashTransport[domain].swf=swf=swfContainer.firstChild;var queue=easyXDM.stack.FlashTransport[domain].queue;for(var i=0;i<queue.length;i++){queue[i]();}
queue.length=0;});if(config.swfContainer){swfContainer=(typeof config.swfContainer=="string")?document.getElementById(config.swfContainer):config.swfContainer;}
else{swfContainer=document.createElement('div');apply(swfContainer.style,HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0});document.body.appendChild(swfContainer);}
var flashVars="callback=flash_loaded"+encodeURIComponent(domain.replace(/[\-.]/g,"_"))
+"&proto="+global.location.protocol
+"&domain="+encodeURIComponent(getDomainName(global.location.href))
+"&port="+encodeURIComponent(getPort(global.location.href))
+"&ns="+encodeURIComponent(namespace);swfContainer.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+id+"' data='"+url+"'>"+
"<param name='allowScriptAccess' value='always'></param>"+
"<param name='wmode' value='transparent'>"+
"<param name='movie' value='"+
url+
"'></param>"+
"<param name='flashvars' value='"+
flashVars+
"'></param>"+
"<embed type='application/x-shockwave-flash' FlashVars='"+
flashVars+
"' allowScriptAccess='always' wmode='transparent' src='"+
url+
"' height='1' width='1'></embed>"+
"</object>";}
return(pub={outgoing:function(message,domain,fn){swf.postMessage(config.channel,message.toString());if(fn){fn();}},destroy:function(){try{swf.destroyChannel(config.channel);}
catch(e){}
swf=null;if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=config.remote;easyXDM.Fn.set("flash_"+config.channel+"_init",function(){setTimeout(function(){pub.up.callback(true);});});easyXDM.Fn.set("flash_"+config.channel+"_onMessage",onMessage);config.swf=resolveUrl(config.swf);var swfdomain=getDomainName(config.swf);var fn=function(){easyXDM.stack.FlashTransport[swfdomain].init=true;swf=easyXDM.stack.FlashTransport[swfdomain].swf;swf.createChannel(config.channel,config.secret,getLocation(config.remote),config.isHost);if(config.isHost){if(HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle){apply(config.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"});}
apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:6,xdm_s:config.secret}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);}};if(easyXDM.stack.FlashTransport[swfdomain]&&easyXDM.stack.FlashTransport[swfdomain].init){fn();}
else{if(!easyXDM.stack.FlashTransport[swfdomain]){easyXDM.stack.FlashTransport[swfdomain]={queue:[fn]};addSwf(swfdomain);}
else{easyXDM.stack.FlashTransport[swfdomain].queue.push(fn);}}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.PostMessageTransport=function(config){var pub,frame,callerWindow,targetOrigin;function _getOrigin(event){if(event.origin){return getLocation(event.origin);}
if(event.uri){return getLocation(event.uri);}
if(event.domain){return location.protocol+"//"+event.domain;}
throw "Unable to retrieve the origin of the event";}
function _window_onMessage(event){var origin=_getOrigin(event);if(origin==targetOrigin&&event.data.substring(0,config.channel.length+1)==config.channel+" "){pub.up.incoming(event.data.substring(config.channel.length+1),origin);}}
return(pub={outgoing:function(message,domain,fn){callerWindow.postMessage(config.channel+" "+message,domain||targetOrigin);if(fn){fn();}},destroy:function(){un(window,"message",_window_onMessage);if(frame){callerWindow=null;frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){var waitForReady=function(event){if(event.data==config.channel+"-ready"){callerWindow=("postMessage"in frame.contentWindow)?frame.contentWindow:frame.contentWindow.document;un(window,"message",waitForReady);on(window,"message",_window_onMessage);setTimeout(function(){pub.up.callback(true);},0);}};on(window,"message",waitForReady);apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:1}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);}
else{on(window,"message",_window_onMessage);callerWindow=("postMessage"in window.parent)?window.parent:window.parent.document;callerWindow.postMessage(config.channel+"-ready",targetOrigin);setTimeout(function(){pub.up.callback(true);},0);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.FrameElementTransport=function(config){var pub,frame,send,targetOrigin;return(pub={outgoing:function(message,domain,fn){send.call(this,message);if(fn){fn();}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:5}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);frame.fn=function(sendFn){delete frame.fn;send=sendFn;setTimeout(function(){pub.up.callback(true);},0);return function(msg){pub.up.incoming(msg,targetOrigin);};};}
else{if(document.referrer&&getLocation(document.referrer)!=query.xdm_e){window.top.location=query.xdm_e;}
send=window.frameElement.fn(function(msg){pub.up.incoming(msg,targetOrigin);});pub.up.callback(true);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.NameTransport=function(config){var pub;var isHost,callerWindow,remoteWindow,readyCount,callback,remoteOrigin,remoteUrl;function _sendMessage(message){var url=config.remoteHelper+(isHost?"#_3":"#_2")+config.channel;callerWindow.contentWindow.sendMessage(message,url);}
function _onReady(){if(isHost){if(++readyCount===2||!isHost){pub.up.callback(true);}}
else{_sendMessage("ready");pub.up.callback(true);}}
function _onMessage(message){pub.up.incoming(message,remoteOrigin);}
function _onLoad(){if(callback){setTimeout(function(){callback(true);},0);}}
return(pub={outgoing:function(message,domain,fn){callback=fn;_sendMessage(message);},destroy:function(){callerWindow.parentNode.removeChild(callerWindow);callerWindow=null;if(isHost){remoteWindow.parentNode.removeChild(remoteWindow);remoteWindow=null;}},onDOMReady:function(){isHost=config.isHost;readyCount=0;remoteOrigin=getLocation(config.remote);config.local=resolveUrl(config.local);if(isHost){easyXDM.Fn.set(config.channel,function(message){if(isHost&&message==="ready"){easyXDM.Fn.set(config.channel,_onMessage);_onReady();}});remoteUrl=appendQueryParameters(config.remote,{xdm_e:config.local,xdm_c:config.channel,xdm_p:2});apply(config.props,{src:remoteUrl+'#'+config.channel,name:IFRAME_PREFIX+config.channel+"_provider"});remoteWindow=createFrame(config);}
else{config.remoteHelper=config.remote;easyXDM.Fn.set(config.channel,_onMessage);}
var onLoad=function(){var w=callerWindow||this;un(w,"load",onLoad);easyXDM.Fn.set(config.channel+"_load",_onLoad);(function test(){if(typeof w.contentWindow.sendMessage=="function"){_onReady();}
else{setTimeout(test,50);}}());};callerWindow=createFrame({props:{src:config.local+"#_4"+config.channel},onLoad:onLoad});},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.HashTransport=function(config){var pub;var me=this,isHost,_timer,pollInterval,_lastMsg,_msgNr,_listenerWindow,_callerWindow;var useParent,_remoteOrigin;function _sendMessage(message){if(!_callerWindow){return;}
var url=config.remote+"#"+(_msgNr++)+"_"+message;((isHost||!useParent)?_callerWindow.contentWindow:_callerWindow).location=url;}
function _handleHash(hash){_lastMsg=hash;pub.up.incoming(_lastMsg.substring(_lastMsg.indexOf("_")+1),_remoteOrigin);}
function _pollHash(){if(!_listenerWindow){return;}
var href=_listenerWindow.location.href,hash="",indexOf=href.indexOf("#");if(indexOf!=-1){hash=href.substring(indexOf);}
if(hash&&hash!=_lastMsg){_handleHash(hash);}}
function _attachListeners(){_timer=setInterval(_pollHash,pollInterval);}
return(pub={outgoing:function(message,domain){_sendMessage(message);},destroy:function(){window.clearInterval(_timer);if(isHost||!useParent){_callerWindow.parentNode.removeChild(_callerWindow);}
_callerWindow=null;},onDOMReady:function(){isHost=config.isHost;pollInterval=config.interval;_lastMsg="#"+config.channel;_msgNr=0;useParent=config.useParent;_remoteOrigin=getLocation(config.remote);if(isHost){apply(config.props,{src:config.remote,name:IFRAME_PREFIX+config.channel+"_provider"});if(useParent){config.onLoad=function(){_listenerWindow=window;_attachListeners();pub.up.callback(true);};}
else{var tries=0,max=config.delay/50;(function getRef(){if(++tries>max){throw new Error("Unable to reference listenerwindow");}
try{_listenerWindow=_callerWindow.contentWindow.frames[IFRAME_PREFIX+config.channel+"_consumer"];}
catch(ex){}
if(_listenerWindow){_attachListeners();pub.up.callback(true);}
else{setTimeout(getRef,50);}}());}
_callerWindow=createFrame(config);}
else{_listenerWindow=window;_attachListeners();if(useParent){_callerWindow=parent;pub.up.callback(true);}
else{apply(config,{props:{src:config.remote+"#"+config.channel+new Date(),name:IFRAME_PREFIX+config.channel+"_consumer"},onLoad:function(){pub.up.callback(true);}});_callerWindow=createFrame(config);}}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.ReliableBehavior=function(config){var pub,callback;var idOut=0,idIn=0,currentMessage="";return(pub={incoming:function(message,origin){var indexOf=message.indexOf("_"),ack=message.substring(0,indexOf).split(",");message=message.substring(indexOf+1);if(ack[0]==idOut){currentMessage="";if(callback){callback(true);}}
if(message.length>0){pub.down.outgoing(ack[1]+","+idOut+"_"+currentMessage,origin);if(idIn!=ack[1]){idIn=ack[1];pub.up.incoming(message,origin);}}},outgoing:function(message,origin,fn){currentMessage=message;callback=fn;pub.down.outgoing(idIn+","+(++idOut)+"_"+message,origin);}});};easyXDM.stack.QueueBehavior=function(config){var pub,queue=[],waiting=true,incoming="",destroying,maxLength=0,lazy=false,doFragment=false;function dispatch(){if(config.remove&&queue.length===0){removeFromStack(pub);return;}
if(waiting||queue.length===0||destroying){return;}
waiting=true;var message=queue.shift();pub.down.outgoing(message.data,message.origin,function(success){waiting=false;if(message.callback){setTimeout(function(){message.callback(success);},0);}
dispatch();});}
return(pub={init:function(){if(undef(config)){config={};}
if(config.maxLength){maxLength=config.maxLength;doFragment=true;}
if(config.lazy){lazy=true;}
else{pub.down.init();}},callback:function(success){waiting=false;var up=pub.up;dispatch();up.callback(success);},incoming:function(message,origin){if(doFragment){var indexOf=message.indexOf("_"),seq=parseInt(message.substring(0,indexOf),10);incoming+=message.substring(indexOf+1);if(seq===0){if(config.encode){incoming=decodeURIComponent(incoming);}
pub.up.incoming(incoming,origin);incoming="";}}
else{pub.up.incoming(message,origin);}},outgoing:function(message,origin,fn){if(config.encode){message=encodeURIComponent(message);}
var fragments=[],fragment;if(doFragment){while(message.length!==0){fragment=message.substring(0,maxLength);message=message.substring(fragment.length);fragments.push(fragment);}
while((fragment=fragments.shift())){queue.push({data:fragments.length+"_"+fragment,origin:origin,callback:fragments.length===0?fn:null});}}
else{queue.push({data:message,origin:origin,callback:fn});}
if(lazy){pub.down.init();}
else{dispatch();}},destroy:function(){destroying=true;pub.down.destroy();}});};easyXDM.stack.VerifyBehavior=function(config){var pub,mySecret,theirSecret,verified=false;function startVerification(){mySecret=Math.random().toString(16).substring(2);pub.down.outgoing(mySecret);}
return(pub={incoming:function(message,origin){var indexOf=message.indexOf("_");if(indexOf===-1){if(message===mySecret){pub.up.callback(true);}
else if(!theirSecret){theirSecret=message;if(!config.initiate){startVerification();}
pub.down.outgoing(message);}}
else{if(message.substring(0,indexOf)===theirSecret){pub.up.incoming(message.substring(indexOf+1),origin);}}},outgoing:function(message,origin,fn){pub.down.outgoing(mySecret+"_"+message,origin,fn);},callback:function(success){if(config.initiate){startVerification();}}});};easyXDM.stack.RpcBehavior=function(proxy,config){var pub,serializer=config.serializer||getJSON();var _callbackCounter=0,_callbacks={};function _send(data){data.jsonrpc="2.0";pub.down.outgoing(serializer.stringify(data));}
function _createMethod(definition,method){var slice=Array.prototype.slice;return function(){var l=arguments.length,callback,message={method:method};if(l>0&&typeof arguments[l-1]==="function"){if(l>1&&typeof arguments[l-2]==="function"){callback={success:arguments[l-2],error:arguments[l-1]};message.params=slice.call(arguments,0,l-2);}
else{callback={success:arguments[l-1]};message.params=slice.call(arguments,0,l-1);}
_callbacks[""+(++_callbackCounter)]=callback;message.id=_callbackCounter;}
else{message.params=slice.call(arguments,0);}
if(definition.namedParams&&message.params.length===1){message.params=message.params[0];}
_send(message);};}
function _executeMethod(method,id,fn,params){if(!fn){if(id){_send({id:id,error:{code:-32601,message:"Procedure not found."}});}
return;}
var success,error;if(id){success=function(result){success=emptyFn;_send({id:id,result:result});};error=function(message,data){error=emptyFn;var msg={id:id,error:{code:-32099,message:message}};if(data){msg.error.data=data;}
_send(msg);};}
else{success=error=emptyFn;}
if(!isArray(params)){params=[params];}
try{var result=fn.method.apply(fn.scope,params.concat([success,error]));if(!undef(result)){success(result);}}
catch(ex1){error(ex1.message);}}
return(pub={incoming:function(message,origin){var data=serializer.parse(message);if(data.method){if(config.handle){config.handle(data,_send);}
else{_executeMethod(data.method,data.id,config.local[data.method],data.params);}}
else{var callback=_callbacks[data.id];if(data.error){if(callback.error){callback.error(data.error);}}
else if(callback.success){callback.success(data.result);}
delete _callbacks[data.id];}},init:function(){if(config.remote){for(var method in config.remote){if(config.remote.hasOwnProperty(method)){proxy[method]=_createMethod(config.remote[method],method);}}}
pub.down.init();},destroy:function(){for(var method in config.remote){if(config.remote.hasOwnProperty(method)&&proxy.hasOwnProperty(method)){delete proxy[method];}}
pub.down.destroy();}});};module.exports=easyXDM;})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);}),1346:(function(module,exports,__webpack_require__){var easyXDM=__webpack_require__(1345);window.loadView=function(opts){window.name=META.id;var use_backup_content=typeof opts!='undefined'&&opts.use_backup_content!=undefined?opts.use_backup_content:false;var app_el=typeof opts!='undefined'&&opts.app_el!=undefined?opts.app_el:$('#appView');for(var key in GLOBALS){window[key]=GLOBALS[key];}
var model_name=META.app_type+'AppModel';if(META.app_type==='wixReview'){model_name=META.app_namespace+'AppModel';}
if(META.soft_alias){window[model_name]=window[META.app_namespace+'AppModel'];}
if(window.ENVIRONMENT=='development'||window.ENVIRONMENT=='staging'){initializePlatformsForQA();}
window.APP_MODEL=new window[model_name]();if(use_backup_content){for(var key in BACKUP_CONTENT){if(BACKUP_CONTENT[key]!='undefined'){APP_MODEL.set(key,BACKUP_CONTENT[key]);}}}else{for(var key in CONTENT){if(CONTENT[key]!='undefined'){APP_MODEL.set(key,CONTENT[key]);}}}
APP_MODEL.meta={};for(var key in META){if(META[key]!='undefined'){APP_MODEL.meta[key]=META[key];}}
APP_MODEL.afterMount();if(META.password_protected_template){$('body').append(META.password_protected_template);}
window.APP_VIEW=new window[META.app_namespace+'AppView']({el:'#'+app_el.attr('id'),model:APP_MODEL});if($.inArray(META.external_id_type,['weebly-integrated','design-editor','webydo','bookmark','cloudflare','wordpress','sharethis'])>-1){debug()('Updating through local storage');setInterval(function(){if(typeof META=='undefined'){return;}
var data=localStorage.getItem('powr_data_'+META.id);if(data==undefined||data==null||data=='null'){return;}
data=JSON.parse(data);var locals=APP_MODEL.get('locals');for(var i in data.content){if(i=='locals'){for(var j in data.content.locals){APP_MODEL.attributes.locals[j]=data.content.locals[j];}}else{APP_MODEL.attributes[i]=data.content[i];}}
if(typeof PLATFORM_DATA!='undefined'){loadPlatformData(PLATFORM_DATA,{render:false});}
APP_VIEW.render();localStorage.removeItem('powr_data_'+META.id);},100);}
loadViewInitializers();};function loadViewInitializers(){if(META.premium_status=='free'){$('.loadingWrapper').show();}
if(META.edit_me){if(META.external_id_type=='jimdo'){$('#editMe').css({marginTop:'20px'});}
$('#editMe').fadeIn('fast');}
if(document.referrer.indexOf('plugins/form-builder/templates')!=-1){$('#editMe, .bottom-nav.js-hide-if-pos, .js-failed-payments-overlay, .js-wix-blocked-content,\n      .js-watermark, .js-unclaimed-watermark, #unblockedFeaturesPopup, .powrMark, .markOfPowr').hide();}
$('link[rel="canonical"]').attr('href',baseUri()+'/plugins/view?id='+META.id);if(META.admin_debug_panel){$('body').append(META.admin_debug_panel);}
var mode=getURLParameter('mode');if(mode=='page'||window.location.hash==='#page'){var marginValues=window.isMobile()?'5% 10px':'5% 15%';$('html').css({overflow:'auto'});$('#appView').css({margin:marginValues});}else if(mode=='scroll'||window.location.hash==='#scroll'){$('html').css({overflow:'auto'});}else{$('html').css({overflow:'hidden'});}}
function loadViewListeners(){try{window.APP_SOCKET=new easyXDM.Socket({onMessage:function onMessage(message){var m=JSON.parse(message);debug()('Message in app:',m);if(m.action&&m.action=='activate'){$('#editMe').fadeIn();}else if(m.action&&m.action=='deactivate'){$('#editMe').fadeOut();}}});}catch(err){debug()('Could not establish socket connection: '+err);}
function windowMessageReceived(evt){debug()('View received settings, evt is',evt);try{var response=JSON.parse(evt.data);}catch(err){debug()("Couldn't json parse data: ",err);return false;}
var response=JSON.parse(evt.data);if(response.message=='loaded'){var setParentOrigin=function setParentOrigin(){window.PARENT_ORIGIN=evt.origin;window.IFRAME_INDEX=response.data.iframe_index;if(typeof APP_MODEL=='undefined'){setTimeout(setParentOrigin,50);}else{APP_MODEL.setLocals({parent_origin:evt.origin,iframe_index:response.data.iframe_index,parent_window_height:response.data.parent_window_height,parent_window_width:response.data.parent_window_width});}};debug()('View received settings loaded. Evt origin is ',evt.origin);setParentOrigin();var r={message:'viewLoaded',data:{iframe_index:response.data.iframe_index}};parent.postMessage(JSON.stringify(r),evt.origin);if(typeof APP_VIEW!='undefined'){APP_VIEW.postSizeToSocket();}}
if(response.message=='loadView'){window.META=response.data.meta;window.GLOBALS=response.data.globals;window.CONTENT=response.data.content;loadView();window.APP_MODEL.setLocals({parent_origin:evt.origin,iframe_index:response.data.iframe_index});}else if(response.message=='showEdit'){$('#editMe, .adminAppInfo').fadeIn();}else if(response.message=='hideEdit'){$('#editMe, .adminAppInfo').hide();}else if(response.message=='update'&&APP_MODEL){var locals=APP_MODEL.get('locals');for(var i in response.data.content){if(i=='locals'){for(var j in response.data.content.locals){APP_MODEL.attributes.locals[j]=response.data.content.locals[j];}}else{APP_MODEL.attributes[i]=response.data.content[i];}}
APP_VIEW.render();}else if(response.message=='triggerPowrPopupClick'||response.message=='exitDocument'){if(APP_VIEW.openModal){APP_VIEW.openModal(response.message);}}else if(response.message=='platformData'){loadPlatformData(response.data);window.PLATFORM_DATA=response.data;}else if(response.message=='scrollPosition'&&APP_VIEW.receiveScrollPosition){APP_VIEW.receiveScrollPosition(response.scrollPercentage);}}
if(window.addEventListener){window.addEventListener('message',windowMessageReceived);}else{window.attachEvent('onmessage',windowMessageReceived);}
$(document).on('click','#editMe, .js-launchPopoutSettings, .js-unclaimed-cta, .required-settings-banner__link',function(){if(typeof SETTINGS_WINDOW!='undefined'&&SETTINGS_WINDOW.close){SETTINGS_WINDOW.close();}
var h=Math.round(0.9*screen.height);var w=400;var o=Math.round(screen.width-w-0.1*screen.width);var url='/apps/'+META.app_type+'/settings?id='+META.true_id+'&demo_mode='+META.demo_mode+'&section=popup';if(META.template!=undefined){url+='&template='+META.template;}
if($(this).hasClass('js-unclaimed-cta')){url+='&triggerSignup=true';}
if($(this).hasClass('required-settings-banner__link')){url+='&open_drilldown_required_settings=true';}
window.SETTINGS_WINDOW=window.open(url,'POWr Editor','width='+w+',height='+h+',top=-1000,left='+o+',location=no,status=no','false');});$('.js-update-payment-info-cta').click(function(){return window.open('/users/me/account?tab=payment_info');});$('#editMe').hover(function(){$('.js-editMeMenu').stop().fadeIn(100,function(){APP_VIEW.postSizeToSocket();});},function(){$('.js-editMeMenu').stop().fadeOut(100,function(){APP_VIEW.postSizeToSocket();});});$('.js-editMeMenu').hover(function(){$('.js-editMeMenu').stop().show();},function(){$('.js-editMeMenu').stop().fadeOut(100,function(){APP_VIEW.postSizeToSocket();});});function editMePopover(){$('#editMe').popover({html:true,trigger:'hover',delay:{hide:850},viewport:{selector:'#apps-view',padding:0},template:'<div class="popover" role="tooltip" style="font-size: 12px;margin-top: 5px;z-index: 10000000;"><div class="arrow"></div><div class="popover-content"></div></div>'});}
if($(window).popover==undefined){setTimeout(function(){editMePopover();},2000);return;}else{editMePopover();}
$(document).on('click','.js-launchStandalone',function(){var standaloneUrl='/plugins/'+META.app_slug+'/standalone?id='+META.id;window.open(standaloneUrl);});$(document).on('click','.js-launchResponseDashboard',function(){var dashboardUrl='/apps/'+META.id+'/responses';window.open(dashboardUrl);});$(window).on('beforeunload',function(){if(APP_MODEL.get('locals').isDirty&&$('#appSettings').length>0){return 'You have unsaved work with a POWr Plugin! If you leave this page you will lose any unsaved changes.';}});}
function loadPlatformData(platformData,opts){debug()('Trying to load platform data');if(typeof APP_MODEL=='undefined'){setTimeout(function(){loadPlatformData(platformData);},100);return;}
if(typeof opts=='undefined'){opts={render:true};}
debug()('Loading platform data',platformData);var hasChanged=false;var newPlatformData={};for(var key in platformData.content){if(typeof APP_MODEL.defaults()[key]!='undefined'&&APP_MODEL.attributes[key]!=platformData.content[key]){debug()('Default key: '+APP_MODEL.defaults()[key]);debug()('Response key: '+platformData.content[key]);if((APP_MODEL.defaults()[key]+'').slice(-2)=='px'&&(platformData.content[key]+'').slice(-2)!='px'){APP_MODEL.attributes[key]=platformData.content[key]+'px';newPlatformData[key]=platformData.content[key]+'px';}else{APP_MODEL.attributes[key]=platformData.content[key];newPlatformData[key]=platformData.content[key];}
hasChanged=true;}}
if(hasChanged&&opts.render){APP_VIEW.render();}}
function initializeWix(){if(typeof WIX_QA_APP_TYPE!='undefined'){window.wixStagingAppModel=window[WIX_QA_APP_TYPE+'AppModel'];window.wixLocalAppModel=wixStagingAppModel;window.localDevAppModel=wixStagingAppModel;window.wixIeLocalAppModel=wixStagingAppModel;}
window.VIEW_MODE=Wix.Utils.getViewMode();if(VIEW_MODE!='site'){loadView({use_backup_content:true});}else{loadView({use_backup_content:false});}
Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,function(data){debug()('Wix settings updated:',data);APP_MODEL.attributes=data;APP_MODEL.meta.saved=true;APP_VIEW.render();});Wix.addEventListener(Wix.Events.SITE_PUBLISHED,function(data){debug()('site published');APP_MODEL.doSave({post_params:{wix_published:true}});});Wix.addEventListener(Wix.Events.COMPONENT_DELETED,function(data){debug()('app deleted');APP_MODEL.doSave({post_params:{wix_deleted:true}});});if(VIEW_MODE=='site'){Wix.currentMember(function(memberDetails){debug()('member details: ',memberDetails);if(memberDetails&&memberDetails.email){setTimeout(function(){deliverHash(memberDetails.email);},2000);}});}}
$(function(){if($('#apps-view, #apps-facebook_view').length>0){loadView();loadViewListeners();}
if($('#apps-cached_view, #views-show').length>0){debug()('In apps cached view');loadViewListeners();if(getURLParameter('load')=='async'){debug()('Async loading');window.LOAD_ME_INTERVAL=setInterval(function(){if(typeof META=='undefined'||META==undefined){if(typeof PARENT_ORIGIN!='undefined'&&typeof IFRAME_INDEX!='undefined'){var r={message:'loadMe',data:{iframe_index:IFRAME_INDEX}};parent.postMessage(JSON.stringify(r),PARENT_ORIGIN);}}else{clearInterval(LOAD_ME_INTERVAL);}},5000);}else{var url='/plugins/'+APP_DETAILS.slug+'/view.json?';if(getURLParameter('id')){url+='id='+getURLParameter('id');}else if(getURLParameter('unique_label')){url+='unique_label='+getURLParameter('unique_label')+'&powr_token='+getURLParameter('powr_token')+'&user_label='+getURLParameter('user_label');}else{url+='powr_token='+getURLParameter('powr_token')+'&user_label='+getURLParameter('user_label');}
if(getURLParameter('external_type')){url+='&external_type='+getURLParameter('external_type');}
try{var params={};var platformUrl=document.location.toString().split('#platform=');var ancestors=document.location.ancestorOrigins;if(!!ancestors){var referrer=ancestors[ancestors.length-1];params.url=referrer;}else{params.url=document.referrer;}
if(platformUrl.length>=1){params.platform=platformUrl[1];}
url='/cached/'+window.META.id+'.json';params=$.param(params);var editables=window.getCookie('editables')||'';var editableId=editables.split(',').indexOf(META.id.toString())>=0;var editableUniqueLabel=editables.split(',').indexOf(META.unique_label.toString())>=0;if(editableId||editableUniqueLabel){url='/raw/'+window.META.id+'?'+params;}}catch(err){debug()('Error with short json URL endpoint',err);}
debug()('Calling to get app json. Url is '+url);ajaxController({url:url,type:'GET'},function(r){if(r&&r.success){debug()('Success getting view data');window.META=r.meta;window.GLOBALS=r.globals;window.CONTENT=r.content;loadView();}else{debug()('Error getting view data');}});}}
if($('#apps-wix_view').length>0){initializeWix();}
if($('#apps-wix_cached_view').length>0){Wix.getSiteInfo(function(wixSiteInfo){var url='/plugins/'+APP_DETAILS.slug+'/wix_view.json?'+originalQuery()+'&url='+wixSiteInfo.url;ajaxController({url:url,type:'GET'},function(r){if(r.success){window.META=r.meta;window.GLOBALS=r.globals;window.VIEW_MODE=Wix.Utils.getViewMode();if(VIEW_MODE!='site'){window.BACKUP_CONTENT=r.content;}else{window.CONTENT=r.content;}
initializeWix();}else{debug()('Error getting wix view data');}});});}});}),1391:(function(module,exports,__webpack_require__){__webpack_require__(403);$(function(){countdownTimerBaseModel=appModel.extend({baseDefaults:function baseDefaults(){var d={elementSize:'60px',elementSpacing:'5px',labelFontScale:0.6,timerGoal:'countdownDate',backgroundGradient:false,backgroundColor:'rgb(248, 246, 246)',backgroundStartColor:'#979797',backgroundEndColor:'#120a1e',backgroundBorderColor:'#dbdbdb',backgroundBorderRadius:'3px',backgroundBorderWidth:'0px',backgroundShadow:'none',targetDate:moment().add(1,'month').toLocaleISOString(),targetDateFormat:'',countDirection:'down',interval:1,intervalUnit:'seconds',targetType:'date',targetNumber:'50',perVisitorQuantity:'10',perVisitorUnit:'m',repeatQuantity:'1',repeatUnit:'M',beforeCompletion:'banner',beforeTitle:'Coming Soon!',beforeSubtitle:'',beforeButtonType:'none',beforeButtonText:'',beforeButtonUrl:'',beforeBannerImage:'',paypalBeforeQuantity:1,paypalBeforeButtonText:'Purchase',paypalBeforePaypalAccount:'',paypalBeforeCurrencyCode:'USD',paypalBeforePurchaseType:'BuyNow',paypalBeforeSuccessUrl:'',paypalBeforeItemName:'My product',paypalBeforeItemCost:'10.00',paypalBeforeAllowUserToSpecifyPrice:false,paypalBeforeAllowUserToSpecifyQuantity:false,paypalBeforeTrialOn:false,paypalBeforeTrialPrice:0.0,paypalBeforeTrialDuration:30,paypalBeforeTrialDurationUnits:'D',paypalBeforeSubscriptionPrice:10.0,paypalBeforeSubscriptionDuration:1,paypalBeforeSubscriptionDurationUnits:'M',paypalBeforeShippingCost:'',paypalBeforeNoShipping:'0',beforeBackgroundColor:'rgba(255, 255, 255, 0)',beforeBackgroundGradient:false,beforeBannerStyle:'layout3',pluginPadding:'0px',linkBehavior:'_blank',afterCompletion:'none',finishedTitle:'',finishedSubtitle:'',finishedButtonType:'none',finishedButtonText:'Learn More',finishedButtonUrl:'',finishedBannerImage:'',paypalQuantity:1,paypalButtonText:'Purchase',paypalPaypalAccount:'',paypalCurrencyCode:'USD',paypalPurchaseType:'BuyNow',paypalSuccessUrl:'',paypalItemName:'My product',paypalItemCost:'10.00',paypalAllowUserToSpecifyPrice:false,paypalAllowUserToSpecifyQuantity:false,paypalTrialOn:false,paypalTrialPrice:0.0,paypalTrialDuration:30,paypalTrialDurationUnits:'D',paypalSubscriptionPrice:10.0,paypalSubscriptionDuration:1,paypalSubscriptionDurationUnits:'M',paypalShippingCost:'',paypalNoShipping:'0',beforeBackgroundStartColor:'#fff',beforeBackgroundEndColor:'#c0c0c0',finishedBackgroundColor:'rgba(255, 255, 255, 0.5)',finishedBackgroundStartColor:'#fff',finishedBackgroundEndColor:'#c0c0c0',finishedBackgroundGradient:false,finishedBannerStyle:'layout3',timeLabels:'custom',separatorType:'colon',showYears:true,showDays:true,showHours:true,showMinutes:true,showSeconds:true,yearsLabel:'Years',daysLabel:'Days',hoursLabel:'Hours',minutesLabel:'Minutes',secondsLabel:'Seconds',elementFontColor:'#42a5f5',elementFontFamily:'Open Sans',animationSpeed:'240',countdownAnimation:'slideDown',titleFontFamily:'Open Sans',titleFontSize:'42px',titleFontColor:'#bdbdbd',labelFontFamily:'Open Sans',labelFontColor:'#bdbdbd',passwordProtectOn:false,customCSS:'',customJS:'',pluginPosition:'default',pluginPositionLocation:'top'};if(HOST=='wix'){try{var header_font=Wix.Styles.getSiteTextPresets()['Heading-M'].fontFamily;var body_font=Wix.Styles.getSiteTextPresets()['Body-M'].fontFamily;d['titleFontFamily']=header_font;d['labelFontFamily']=body_font;}catch(err){}
d['backgroundBorderColorWix']='color-3';d['backgroundColorWix']='color-8';d['beforeBackgroundColor']='rgba(255,255,255,0)';d['elementFontColorWix']='color-4';d['titleFontColorWix']='color-5';d['labelFontColorWix']='color-5';d['elementFontColorWix']='color-1';d['proTipsEmail']='';}
return d;},chameleonMapper:{titleFontFamily:'header.fontFamily',titleFontSize:'header.fontSize',titleFontColor:'header.color',labelFontFamily:'text.fontFamily',textFontSize:'text.fontSize'},presets:function presets(){var p={elementFontColor:'color',backgroundColor:'backgroundColor',backgroundStartColor:'backgroundColor',backgroundEndColor:'backgroundColor',backgroundBorderColor:'color',titleFontColor:'color',labelFontColor:'color',elementFontFamily:'fontFamily',titleFontFamily:'fontFamily',labelFontFamily:'fontFamily'};return p;},intervalInMs:function intervalInMs(){if($.inArray(this.get('targetType'),['timePerPageLoad','timePerVisitor','date'])>-1){return 1000;}
var interval=parseFloat(this.get('interval'));interval*={milliseconds:1,seconds:1000,minutes:60*1000,hours:60*60*1000,days:24*60*60*1000}[this.get('intervalUnit')];return interval;},secondsRemaining:function secondsRemaining(){var self=this;var interval=self.intervalInMs();var seconds_diff='';var countDirection=self.get('countDirection')||'down';var targetType=self.get('targetType');var timerGoal=self.get('timerGoal');if($.inArray(self.get('timerGoal'),['countdownNumberVisitor','countupNumberVisitor'])>-1){var targetNumber=self.get('targetNumber');var num_cookie_val=getCookie('powr_countdown_number_'+self.meta.id,true);if(num_cookie_val){debug()('........ COOKIE ALREADY EXISTS .............');var end_date_seconds=parseInt(getCookie('powr_countdown_number_'+self.meta.id,true));debug()('........... COOKIE VALUE = '+end_date_seconds);debug()('num_cookie_val = '+num_cookie_val);}else{debug()('$$$$$$$$$$$$$ COOKIE NOT THERE $$$$$$$$$$$');if(timerGoal=='countupNumberVisitor'){var end_date_seconds=(targetNumber*interval+new Date().getTime())/interval-targetNumber*2;}else{var end_date_seconds=(targetNumber*interval+new Date().getTime())/interval;}
setCookie('powr_countdown_number_'+self.meta.id,end_date_seconds,10,true);debug()('--------------------------------------------------> Cookie set for number!');}}
if(targetType=='timePerVisitor'||targetType=='timePerPageLoad'){var perVisitorQuantity=parseFloat(self.get('perVisitorQuantity'));switch(self.get('perVisitorUnit')){case 's':seconds_diff=perVisitorQuantity;break;case 'm':seconds_diff=60*perVisitorQuantity;break;case 'h':seconds_diff=3600*perVisitorQuantity;break;case 'd':seconds_diff=86400*perVisitorQuantity;break;}
if(targetType=='timePerVisitor'){var cookie_val=getCookie('powr_countdown_'+self.meta.id,true);if(cookie_val){debug()('........ COOKIE ALREADY EXISTS .............');var end_date_seconds=parseInt(getCookie('powr_countdown_'+self.meta.id,true));debug()('........... COOKIE VALUE = '+end_date_seconds);}else{debug()('$$$$$$$$$$$$$ COOKIE NOT THERE $$$$$$$$$$$');var end_date_seconds=new Date().getTime()/interval+seconds_diff;setCookie('powr_countdown_'+self.meta.id,end_date_seconds,10,true);}}else{var end_date_seconds=new Date().getTime()/interval+seconds_diff;}}else{if($.inArray(self.get('timerGoal'),['countdownNumberVisitor','countupNumberVisitor'])==-1){var end_date=new Date(self.get('locals').endDate||self.get('targetDate'));var end_date_seconds=end_date.getTime()/interval;}}
var now_date=new Date();var now_date_seconds=now_date.getTime()/interval;var seconds_remaining=Math.round(end_date_seconds-now_date_seconds);if(countDirection=='down'&&seconds_remaining<0){seconds_remaining=0;}
if(countDirection=='up'&&seconds_remaining>0){seconds_remaining=0;}else{seconds_remaining=Math.abs(seconds_remaining);}
var currentNumber=self.get('locals').currentNumber||[];for(var i=currentNumber.length-1;i>=0;i--){if(currentNumber[i].interval==interval){currentNumber.splice(i,1);}}
currentNumber.push({number:seconds_remaining,interval:interval});self.setLocals({currentNumber:currentNumber},{silent:true});return seconds_remaining;},calculateStartDate:function calculateStartDate(hard,to){var self=this;var result=new Date().valueOf();var delta=(parseInt(self.get('targetNumber'))||0)*self.intervalInMs();var currentNumbers=self.get('locals').currentNumber||[];if(!to){var interval=self.intervalInMs();for(var i=currentNumbers.length-1;i>=0;i--){if(currentNumbers[i].interval!=interval){to=currentNumbers[i].number;break;}}}
if(!hard&&to){delta=to*self.intervalInMs();}
if(self.get('countDirection')=='up'){result-=delta;}else{result+=delta;}
try{var str_result=new Date(result).toISOString().replace(/\.\d{3}Z^/,'');if(self.get('targetDate')!=str_result){self.set('targetDate',str_result,{silent:false});}}catch(e){debug()('Trouble computing date');}}});countdownTimerAppModel=countdownTimerBaseModel;countUpTimerAppModel=countdownTimerBaseModel;holidayCountdownAppModel=countdownTimerBaseModel;countdownTimerAppSettings=appSettings.extend({afterInitialize:function afterInitialize(){var self=this;self.$el.on('mouseenter','.js-transition-img-container',function(event){var transition=$(this).find('.radioImageContainer').attr('value');$(this).find('.transition_img_'+transition).attr('src','https://www.powrcdn.com/countdown_timer/'+transition+'.gif');});self.$el.on('mouseleave','.js-transition-img-container',function(){var transition=$(this).find('.radioImageContainer').attr('value');$(this).find('.transition_img_'+transition).attr('src','https://www.powrcdn.com/countdown_timer/number.png');});setCookie('powr_countdown_'+self.model.meta.id,0,-999,true);setCookie('powr_countdown_number_'+self.model.meta.id,0,-999,true);self.initializePaypalSettings('paypal');self.initializePaypalSettings('paypalBefore');self.updateConditionals();var whenAfterCompletionChanged=function whenAfterCompletionChanged(){self.model.setLocals({afterCompletionChanged:true});self.previewFinished();self.updateConditionals();};self.$el.find('.afterCompletion').on('keyup reactUpdateRequest','input',whenAfterCompletionChanged).on('change reactUpdateRequest','input,select',whenAfterCompletionChanged);self.$el.on('click','.showPreview',function(){whenAfterCompletionChanged();});self.$el.on('click','.hidePreview',function(){self.hidePreview();});self.$el.on('change reactUpdateRequest','[name="targetType"]',function(){if($.inArray($(this).val(),['timePerVisitor','timePerPageLoad'])>-1){self.$el.find('[name="countDirection"]').val('down').change();}});self.$el.on('change reactUpdateRequest','[name="timerGoal"]',function(){var goal=$(this).val();switch(goal){case 'countdownDate':self.countdownDateSetDefault();break;case 'countdownTime':self.countdownTimeSetDefault();break;case 'countdownTimeVisitor':self.countdownTimeVisitorSetDefault();break;case 'countdownNumberVisitor':self.countdownNumberVisitorSetDefault();break;case 'countupNumber':self.countupNumberSetDefault();break;case 'countupNumberVisitor':self.countupNumberVisitorSetDefault();break;case 'countupDate':self.countupDateSetDefault();break;}
self.model.setLocals({currentNumber:[]});self.update();self.hardReset();});self.$el.on('click','.recalculate',function(){self.hardReset();});var changeNames=['interval','intervalUnit','countDirection'];for(var i=0;i<changeNames.length;i++){self.$el.on('change reactUpdateRequest','[name="'+changeNames[i]+'"]',function(){self.hardReset();});}
var keyupNames=['interval','intervalUnit'];for(var i=0;i<keyupNames.length;i++){self.$el.on('keyup reactUpdateRequest','[name="'+keyupNames[i]+'"]',function(){self.hardReset();});self.$el.on('focus reactUpdateRequest','[name="'+keyupNames[i]+'"]',function(){self.model.secondsRemaining();});}},resetToggles:function resetToggles(items,checked){var self=this;var selector=items.map(function(item){return '[name="'+item+'"]';}).join(',');self.$el.find(selector).prop('checked',checked).trigger('forceUpdateComponent');},countdownDateSetDefault:function countdownDateSetDefault(){var self=this;self.$el.find('[name="targetDate"]').val(moment().add(1,'month').toLocaleISOString()).trigger('forceUpdateComponent');self.$el.find('[name="beforeTitle"]').val('Coming Soon!');self.resetToggles(['showDays','showHours','showMinutes','showSeconds','showYears'],true);self.model.set({countDirection:'down',targetType:'date',showYears:true,showDays:true,showHours:true,showMinutes:true},{silent:true});},countdownTimeSetDefault:function countdownTimeSetDefault(){var self=this;self.$el.find('[name="targetDate"]').val(moment().add(8,'hours').toLocaleISOString()).trigger('forceUpdateComponent');self.$el.find('[name="beforeTitle"]').val('Event Starts Soon!');self.resetToggles(['showDays','showHours','showMinutes','showSeconds','showYears'],true);self.model.set({countDirection:'down',targetType:'date',showYears:true,showDays:true,showHours:true,showMinutes:true},{silent:true});},countdownTimeVisitorSetDefault:function countdownTimeVisitorSetDefault(){var self=this;self.$el.find('[name="beforeTitle"]').val('Limited Time Offer!');self.$el.find('[name="perVisitorQuantity"]').val(10);self.$el.find('[name="perVisitorUnit"]').val('m');self.resetToggles(['showYears','showDays','showHours'],false);self.resetToggles(['showMinutes','showSeconds'],true);self.model.set({countDirection:'down',targetType:'timePerVisitor',showYears:false,showDays:false,showHours:false,showMinutes:true},{silent:true});},countdownNumberVisitorSetDefault:function countdownNumberVisitorSetDefault(){var self=this;self.$el.find('[name="interval"]').val(6);self.$el.find('[name="intervalUnit"]').val('seconds');self.$el.find('[name="targetNumber"]').val(54);self.$el.find('[name="beforeTitle"]').val('Only a Few Left!');self.model.set({countDirection:'down',targetType:'number'},{silent:true});},countupNumberSetDefault:function countupNumberSetDefault(){var self=this;self.$el.find('[name="targetNumber"]').val(374);self.$el.find('[name="interval"]').val(6);self.$el.find('[name="intervalUnit"]').val('seconds');self.$el.find('[name="beforeTitle"]').val('Used by Hundreds!');self.model.set({countDirection:'up',targetType:'number'},{silent:true});},countupNumberVisitorSetDefault:function countupNumberVisitorSetDefault(){var self=this;self.$el.find('[name="targetNumber"]').val(18);self.$el.find('[name="interval"]').val(6);self.$el.find('[name="intervalUnit"]').val('seconds');self.$el.find('[name="beforeTitle"]').val('Sold in the Last Hour!');self.model.set({countDirection:'up',targetType:'number'},{silent:true});},countupDateSetDefault:function countupDateSetDefault(){var self=this;self.$el.find('[name="beforeTitle"]').val('Days Since Last Incident!');self.$el.find('[name="targetDate"]').val(moment().add(-1,'day').toLocaleISOString()).trigger('forceUpdateComponent');self.resetToggles(['showDays','showHours','showMinutes','showSeconds','showYears'],true);self.model.set({countDirection:'up',targetType:'date',showYears:true,showDays:true,showHours:true,showMinutes:true},{silent:true});},checkAndReset:function checkAndReset(hard){var self=this;setCookie('powr_countdown_'+self.model.meta.id,0,-999,true);setCookie('powr_countdown_number_'+self.model.meta.id,0,-999,true);if(self.model.get('targetType')=='number'){self.model.set({targetNumber:self.$el.find('[name="targetNumber"]').val()},{silent:true});self.model.calculateStartDate(hard);self.$el.find('[name="targetDate"]').val(self.model.get('targetDate'));self.model.triggerChange();}},hardReset:function hardReset(){var self=this;self.checkAndReset(true);},afterRender:function afterRender(){var self=this;},afterUpdate:function afterUpdate(){var self=this;if(self.model.get('targetType')=='timePerVisitor'||$.inArray(self.model.get('timerGoal'),['countdownNumberVisitor','countupNumberVisitor'])>-1){setCookie('powr_countdown_'+self.model.meta.id,0,-999,true);setCookie('powr_countdown_number_'+self.model.meta.id,0,-999,true);}
if(self.model.get('locals').afterCompletionChanged){self.model.setLocals({afterCompletionChanged:false});}else{self.model.setLocals({previewing:false});}
this.updateConditionals();this.model.triggerChange();if($('.showSecondsCheckbox .switch').hasClass('off')){$('.showingSeconds').removeClass('hid');}else{$('.showingSeconds').addClass('hid');}},updateConditionals:function updateConditionals(){var self=this;if(self.model.get('targetType')=='date'&&self.model.get('afterCompletion')=='repeat'){self.$el.find('.whenRepeatingAndDate').slideDown();}else{self.$el.find('.whenRepeatingAndDate').slideUp();}
if(self.model.get('countDirection')=='down')switch(self.model.get('afterCompletion')){case 'none':self.$el.find('.whenRepeating').slideUp();self.$el.find('.afterCompletion').slideUp();break;case 'banner':self.$el.find('.whenRepeating').slideUp();self.$el.find('.afterCompletion').slideDown();break;case 'repeat':self.$el.find('.afterCompletion').slideUp();self.$el.find('.whenRepeating').slideDown();break;}
if(self.model.get('beforeCompletion')=='banner'||self.model.get('afterCompletion')=='banner'){self.$el.find('.beforeOrAfterCompletion').slideDown();}else{self.$el.find('.beforeOrAfterCompletion').slideUp();}
var buttonType=self.model.get('finishedButtonType');var buttonOptions=self.$el.find('.afterCompletion').find('.buttonOptions');var paymentOptions=self.$el.find('.afterCompletion').find('.paymentOptions');switch(buttonType){case 'none':buttonOptions.slideUp();paymentOptions.slideUp();break;case 'link':buttonOptions.slideDown();paymentOptions.slideUp();break;case '':buttonOptions.slideDown();paymentOptions.slideUp();break;case 'payment':buttonOptions.slideUp();paymentOptions.slideDown();break;}
buttonType=self.model.get('beforeButtonType');buttonOptions=self.$el.find('.beforeCompletion').find('.buttonOptions');paymentOptions=self.$el.find('.beforeCompletion').find('.paymentOptions');switch(buttonType){case 'none':buttonOptions.slideUp();paymentOptions.slideUp();break;case 'link':buttonOptions.slideDown();paymentOptions.slideUp();break;case '':buttonOptions.slideDown();paymentOptions.slideUp();break;case 'payment':buttonOptions.slideUp();paymentOptions.slideDown();break;}
if(self.model.get('targetType')=='timePerPageLoad'){self.$el.find('.whenDateCont').slideUp();self.$el.find('.whenDateFeatures').slideDown();self.$el.find('.whenNumber').slideUp();self.$el.find('.countDirection').slideUp();self.$el.find('.whenPerVisitor').slideDown();}
switch(self.model.get('timerGoal')){case 'countdownDate':self.$el.find('.whenDate').slideDown();self.$el.find('.whenDateCont').slideDown();self.$el.find('.whenDateFeatures').slideDown();self.$el.find('.countDirection').slideDown();self.$el.find('.whenNumber').slideUp();self.$el.find('.whenPerVisitor').slideUp();self.$el.find('.whenDown').slideDown();break;case 'countdownTime':self.$el.find('.whenDate').slideDown();self.$el.find('.whenDateCont').slideDown();self.$el.find('.whenDateFeatures').slideDown();self.$el.find('.countDirection').slideDown();self.$el.find('.whenNumber').slideUp();self.$el.find('.whenPerVisitor').slideUp();self.$el.find('.whenDown').slideDown();break;case 'countdownTimeVisitor':self.$el.find('.whenDateCont').slideUp();self.$el.find('.whenDate').slideDown();self.$el.find('.whenDateFeatures').slideDown();self.$el.find('.whenNumber').slideUp();self.$el.find('.countDirection').slideUp();self.$el.find('.whenPerVisitor').slideDown();self.$el.find('.whenDown').slideDown();break;case 'countdownNumberVisitor':self.$el.find('.whenDate').slideUp();self.$el.find('.whenDateCont').slideUp();self.$el.find('.whenDateFeatures').slideUp();self.$el.find('.countDirection').slideDown();self.$el.find('.whenNumber').slideDown();self.$el.find('.whenPerVisitor').slideUp();self.$el.find('.whenDown').slideDown();break;case 'countupNumber':self.$el.find('.whenDate').slideUp();self.$el.find('.whenDateCont').slideUp();self.$el.find('.whenDateFeatures').slideUp();self.$el.find('.countDirection').slideDown();self.$el.find('.whenNumber').slideDown();self.$el.find('.whenPerVisitor').slideUp();self.$el.find('.whenDown').slideUp();break;case 'countupNumberVisitor':self.$el.find('.whenDate').slideUp();self.$el.find('.whenDateCont').slideUp();self.$el.find('.whenDateFeatures').slideUp();self.$el.find('.countDirection').slideDown();self.$el.find('.whenNumber').slideDown();self.$el.find('.whenPerVisitor').slideUp();self.$el.find('.whenDown').slideUp();break;case 'countupDate':self.$el.find('.whenDate').slideDown();self.$el.find('.whenDateCont').slideDown();self.$el.find('.whenDateFeatures').slideDown();self.$el.find('.countDirection').slideDown();self.$el.find('.whenNumber').slideUp();self.$el.find('.whenPerVisitor').slideUp();self.$el.find('.whenDown').slideUp();break;}
if(self.model.get('locals').previewing){self.$el.find('.hidePreview').slideDown();self.$el.find('.showPreview').slideUp();}else{self.$el.find('.hidePreview').slideUp();self.$el.find('.showPreview').slideDown();}
if(self.model.intervalInMs()<15){self.$el.find('.tooSmall').slideDown();}else{self.$el.find('.tooSmall').slideUp();}
if(self.model.get('pluginPosition')=='fixed'){self.$el.find('.positioningDetails').slideDown();self.$el.find('.beforeOrAfterCompletion').hide();self.$el.find('.js-label-font-color-container').hide();self.$el.find('.js-title-font-color').hide();}else{self.$el.find('.positioningDetails').hide();self.$el.find('.beforeOrAfterCompletion').show();self.$el.find('.js-label-font-color-container').show();self.$el.find('.js-title-font-color').show();}},previewFinished:function previewFinished(){if(this.model.get('afterCompletion')=='banner'){this.model.setLocals({previewing:true});this.model.triggerChange(false);}},hidePreview:function hidePreview(){if(this.model.get('locals').previewing){this.model.setLocals({previewing:false});this.updateConditionals();this.model.triggerChange(false);}}});countdownTimerAppView=appView.extend({afterInitialize:function afterInitialize(){var self=this;this.$el.on('click','.paypalSubmitButton',function(){if($(this).parents('.paypalForm').find('input[name="business"]').val().length>0){$(this).parents('.paypalForm').submit();}
return false;});},setMetaContent:function setMetaContent(){var description=this.model.get('title');this.writeMetaContent(description);},beforeRender:function beforeRender(){var m=this.model;var seconds_remaining=m.secondsRemaining();if(m.get('targetType')=='number'){m.setLocals({digits:Math.max(5,seconds_remaining.toString().length+1)});}
$('.previewSelectWrapper').show();if(this.model.get('pluginPosition')=='fixed'){this.changePreview('desktop',false);$('.previewSelectWrapper').hide();}
var afterData={title:m.get('finishedTitle'),subtitle:m.get('finishedSubtitle'),buttonType:m.get('finishedButtonType'),buttonText:m.get('finishedButtonText'),buttonUrl:m.get('finishedButtonUrl'),bannerImage:m.get('finishedBannerImage'),titleFontSize:parseInt(m.get('titleFontSize'))*1.5,subtitleFontSize:parseInt(m.get('titleFontSize')),paypalQuantity:m.get('paypalQuantity'),paypalButtonText:m.get('paypalButtonText'),paypalPaypalAccount:m.get('paypalPaypalAccount'),paypalCurrencyCode:m.get('paypalCurrencyCode'),paypalPurchaseType:m.get('paypalPurchaseType'),paypalSuccessUrl:m.get('paypalSuccessUrl'),paypalItemName:m.get('paypalItemName'),paypalItemCost:m.get('paypalItemCost'),paypalAllowUserToSpecifyPrice:m.get('paypalAllowUserToSpecifyPrice'),paypalAllowUserToSpecifyQuantity:m.get('paypalAllowUserToSpecifyQuantity'),paypalTrialOn:m.get('paypalTrialOn'),paypalTrialPrice:m.get('paypalTrialPrice'),paypalTrialDuration:m.get('paypalTrialDuration'),paypalTrialDurationUnits:m.get('paypalTrialDurationUnits'),paypalSubscriptionPrice:m.get('paypalSubscriptionPrice'),paypalSubscriptionDuration:m.get('paypalSubscriptionDuration'),paypalSubscriptionDurationUnits:m.get('paypalSubscriptionDurationUnits'),paypalShippingCost:m.get('paypalShippingCost'),paypalNoShipping:m.get('paypalNoShipping'),textFontColor:m.get('titleFontColor'),textFontFamily:m.get('titleFontFamily'),backgroundColor:m.get('finishedBackgroundColor')};var beforeData={title:m.get('beforeTitle'),subtitle:m.get('beforeSubtitle'),buttonType:m.get('beforeButtonType'),buttonText:m.get('beforeButtonText'),buttonUrl:m.get('beforeButtonUrl'),bannerImage:m.get('beforeBannerImage'),paypalQuantity:m.get('paypalBeforeQuantity'),paypalButtonText:m.get('paypalBeforeButtonText'),paypalPaypalAccount:m.get('paypalBeforePaypalAccount'),paypalCurrencyCode:m.get('paypalBeforeCurrencyCode'),paypalPurchaseType:m.get('paypalBeforePurchaseType'),paypalSuccessUrl:m.get('paypalBeforeSuccessUrl'),paypalItemName:m.get('paypalBeforeItemName'),paypalItemCost:m.get('paypalBeforeItemCost'),paypalAllowUserToSpecifyPrice:m.get('paypalBeforeAllowUserToSpecifyPrice'),paypalAllowUserToSpecifyQuantity:m.get('paypalBeforeAllowUserToSpecifyQuantity'),paypalTrialOn:m.get('paypalBeforeTrialOn'),paypalTrialPrice:m.get('paypalBeforeTrialPrice'),paypalTrialDuration:m.get('paypalBeforeTrialDuration'),paypalTrialDurationUnits:m.get('paypalBeforeTrialDurationUnits'),paypalSubscriptionPrice:m.get('paypalBeforeSubscriptionPrice'),paypalSubscriptionDuration:m.get('paypalBeforeSubscriptionDuration'),paypalSubscriptionDurationUnits:m.get('paypalBeforeSubscriptionDurationUnits'),paypalShippingCost:m.get('paypalBeforeShippingCost'),paypalNoShipping:m.get('paypalBeforeNoShipping'),textFontColor:m.get('titleFontColor'),textFontFamily:m.get('titleFontFamily'),backgroundColor:m.get('beforeBackgroundColor')};m.setLocals({dataBefore:beforeData});m.setLocals({dataAfter:afterData});},afterRender:function afterRender(){var self=this;self.setPosition();if(self.model.get('afterCompletion')=='repeat'){self.calculateNextEndDate();}
if(!self.model.get('locals').previewing){this.animateCountdownTimer();}else{this.afterFinished();}},setPosition:function setPosition(){var postCss={position:'unset',zIndex:'unset',top:'unset',right:'unset',bottom:'unset',left:'unset'};if(this.model.get('pluginPosition')=='fixed'){postCss.position='fixed';postCss.zIndex='9999999';postCss.right=0;var is_standalone=this.model.meta.is_standalone;switch(this.model.get('pluginPositionLocation')){case 'top':if(is_standalone){postCss.top='64px';postCss.left='400px';}else{postCss.top=0;}
break;case 'bottom':if(is_standalone){postCss.left='400px';}
postCss.bottom=0;break;}}
this.model.setLocals({postCss:postCss});this.postSizeToSocket();if(is_standalone){this.$el.find('.countdownTimer').css(postCss);}},afterFinished:function afterFinished(){var showBannerWhenFinish=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var self=this;if(typeof COUNTDOWN_INTERVAL!='undefined'){clearInterval(COUNTDOWN_INTERVAL);}
self.$el.find('.uncompleted').removeClass('uncompleted');if(self.model.meta.premium_status=='free'){return;}
if(self.model.get('afterCompletion')=='banner'){if(showBannerWhenFinish){self.$el.find('.beforeCompletion').hide();self.$el.find('.counterTable, .titleTextWrapper').hide();self.$el.find('.afterCompletion').show();}}else if(self.model.get('afterCompletion')=='repeat'){if(self.model.get('targetType')=='timePerVisitor'||$.inArray(self.model.get('timerGoal'),['countdownNumberVisitor','countupNumberVisitor'])>-1){setCookie('powr_countdown_'+self.model.meta.id,0,-999,true);setCookie('powr_countdown_number_'+self.model.meta.id,0,-999,true);}
if(self.calculateNextEndDate()){self.animateCountdownTimer();}}},calculateNextEndDate:function calculateNextEndDate(){var self=this;var end_date=new Date(self.model.get('targetDate'));var countDirection=self.model.get('countDirection')||'down';var repeatUnit=self.model.get('repeatUnit');var repeatQuantity=parseInt(self.model.get('repeatQuantity'));var isNumber=self.model.get('targetType')!='date';var msPerRepeat=(parseInt(self.model.get('targetNumber'))||0)*self.model.intervalInMs();var move=function move(step){if(isNumber){step=step*msPerRepeat;end_date=new Date(end_date.getTime()+step);}else{step=step*repeatQuantity;switch(repeatUnit){case 'H':end_date.setDate(end_date.getDate()+step/24);break;case 'D':end_date.setDate(end_date.getDate()+step);break;case 'W':end_date.setDate(end_date.getDate()+7*step);break;case 'M':var year=end_date.getFullYear();var month=end_date.getMonth()+step;while(month>11){month-=11;year++;}
var day=end_date.getDate();var bounds={0:31,1:year%4==0?29:28,2:31,3:30,4:31,5:30,6:31,7:31,8:30,9:31,10:30,11:31};if(day>bounds[month]){day=bounds[month];}
var hour=end_date.getHours();var minute=end_date.getMinutes();var second=end_date.getSeconds();var ms=end_date.getMilliseconds();end_date=new Date(year,month,day,hour,minute,second,ms);break;case 'Y':end_date.setYear(end_date.getFullYear()+step);break;}}};var totalIterations=0;var maxIterations=100000;if(countDirection=='down'){while(end_date.valueOf()<=new Date().valueOf()){move(1);totalIterations++;if(totalIterations>maxIterations){debug()('Too many iterations!');return false;}}}else{while(end_date.valueOf()>=new Date().valueOf()){move(-1);totalIterations++;if(totalIterations>maxIterations){debug()('Too many iterations!');return false;}}}
debug()(end_date.toISOString());self.model.setLocals({endDate:end_date.toISOString().replace(/\.\d{3}Z^/,'')});return true;},afterFitText:function afterFitText(){var self=this;this.$el.find('.counterElement').removeAttr('style');this.$el.find('.timeLabel').removeAttr('style');this.$el.find('.separator').removeAttr('style');var counters=self.$el.find('.counterRow .counterElement:visible');var counterWidth=counters.last().width();var seperators=self.$el.find('.counterRow .separator:visible');var sepWidth=seperators.last().width();var targetWidth=self.$el.width();if((/iPhone|iPod|iPad/.test(navigator.userAgent)||navigator.userAgent.indexOf('Safari')>-1)&&navigator.userAgent.indexOf('Chrome')==-1&&navigator.userAgent.indexOf('Android')==-1){var is_safari=true;}else{var is_safari=false;}
if(is_safari){self.$el.find('.countdownTimer').hide();targetWidth=self.$el.width();self.$el.find('.countdownTimer').show();}
var currentWidth=sepWidth*seperators.length+counterWidth*counters.length;var correctionFactor=self.$el.find('.counterRow').width()-currentWidth;if(is_safari){var spacing=parseInt(self.model.get('elementSpacing'));var borderWidth=parseInt(self.model.get('backgroundBorderWidth'));correctionFactor=spacing*(self.$el.find('.counterRow td:visible').length+1)+
borderWidth*2*counters.length;}else{debug()('Host is not safari');}
var new_width=(targetWidth-correctionFactor)/(0.5*seperators.length+counters.length);new_width=Math.min(new_width,parseInt(self.model.get('elementSize')));var new_font_size=Math.round(0.8*new_width);this.$el.find('.counterElement').css({width:new_width+'px',height:new_width+'px',fontSize:new_font_size+'px'});this.$el.find('.separator').css({fontSize:Math.round(0.6*new_font_size)+'px'});var endWidth=correctionFactor+new_width/2*seperators.length+new_width*counters.length;var labelText=self.$el.find('.timeLabel:visible').text().trim().split(/\s+/).join(' ');var labelSize=parseFloat(this.model.get('labelFontScale'))*computeMaxFontSize(labelText,endWidth,'Open Sans');labelSize=Math.min(labelSize,parseInt(self.model.get('elementSize'))/2);labelSize=Math.max(labelSize,8);this.$el.find('.timeLabel').each(function(){$(this).css('fontSize',labelSize+'px');});var labelHeight=this.$el.find('.timeLabelWrapper').height();this.$el.css('marginBottom',labelHeight+'px');},convertSecondsToTimeString:function convertSecondsToTimeString(seconds){var timeObj=convertSecondsToComponents(seconds);debug()('Time obj: ',timeObj);var y_zeros=3-timeObj.years.toString().length;var y=Array(y_zeros+1).join('0')+timeObj.years;var d_zeros=3-timeObj.days.toString().length;var d=Array(d_zeros+1).join('0')+timeObj.days;var h_zeros=2-timeObj.hours.toString().length;var h=Array(h_zeros+1).join('0')+timeObj.hours;var m_zeros=2-timeObj.minutes.toString().length;var m=Array(m_zeros+1).join('0')+timeObj.minutes;var s_zeros=2-timeObj.seconds.toString().length;var s=Array(s_zeros+1).join('0')+timeObj.seconds;return y+d+h+m+s;},convertNumberToTimeString:function convertNumberToTimeString(num){var s_zeros=(this.model.get('locals').digits||12)-num.toString().length;return Array(s_zeros+1).join('0')+num.toString();},animateCountdownTimer:function animateCountdownTimer(){var self=this;var m=this.model;var interval=this.model.intervalInMs();var countDirection=self.model.get('countDirection')||'down';var seconds_remaining=self.model.secondsRemaining();if(seconds_remaining==0){if(countDirection=='up'&&self.model.get('targetType')=='number'){}else{return self.afterFinished(!self.model.meta.is_standalone);}}
var timeString=m.get('targetType')=='number'?this.convertNumberToTimeString(seconds_remaining):this.convertSecondsToTimeString(seconds_remaining);debug()('Seconds remaining: '+seconds_remaining+'; timestring: '+timeString);var numberArr=timeString.split('');for(var i=0;i<numberArr.length;i++){var currentEl=$(self.$el.find('.counterElement')[i]);currentEl.find('.currentNumber .value').html(numberArr[i]);}
debug()('Number arr: ',numberArr);if(m.get('targetType')=='date'||m.get('targetType')=='timePerVisitor'){if(numberArr[0]=='0'&&numberArr[1]=='0'&&numberArr[2]=='0'){this.$el.find('.showYears').toggleClass('hid',true);this.$el.find('.timeLabels .showYears').siblings().first().hide();}else if(numberArr[0]=='0'&&numberArr[1]=='0'){this.$el.find('.showYears').slice(0,2).hide();this.$el.find('.timeLabels .showYears').attr('colspan',1);}else if(numberArr[0]=='0'){this.$el.find('.showYears').slice(0,1).hide();this.$el.find('.timeLabels .showYears').attr('colspan',2);}
if(numberArr[3]=='0'&&numberArr[4]=='0'&&numberArr[5]=='0'){this.$el.find('.showDays, .timeLabels .afterDays').toggleClass('hid',true);}else if(numberArr[3]=='0'&&numberArr[4]=='0'){this.$el.find('.showDays').slice(0,2).hide();this.$el.find('.timeLabels .showDays').attr('colspan',1);}else if(numberArr[3]=='0'){this.$el.find('.showDays').slice(0,1).hide();this.$el.find('.timeLabels .showDays').attr('colspan',2);}}
var speed=Math.min(parseInt(m.get('animationSpeed')),interval-20);if(speed<0){speed=0;}
function changeNumber(parentCounterEl,i,method){if(parentCounterEl.find('.currentNumber .value').filter(function(){return $(this).html()!=0;}).length==0){if(self.model.get('countDirection')=='up'&&self.model.get('targetType')=='number'){}else{self.afterFinished(!self.model.meta.is_standalone);return;}}
var currentEl=$(self.$el.find('.counterElement')[i]);var currentNumberEl=currentEl.find('.currentNumberWrapper');var nextNumberEl=currentEl.find('.nextNumberWrapper');var easing='swing';var currentVal=parseInt(currentNumberEl.find('.value').html());var max=currentEl.parents('td').data('max');if(countDirection=='down'){if(i==0&&currentVal-1<0){self.afterFinished();return;}else if(currentVal-1<0){var newVal=max;changeNumber(parentCounterEl,i-1,method);}else{var newVal=currentVal-1;}}else{if(i==0&&currentVal+1>=max){self.afterFinished();return;}else if(currentVal+1>max){var newVal=0;changeNumber(parentCounterEl,i-1,method);}else{var newVal=currentVal+1;}}
switch(method){case 'slideDown':nextNumberEl.find('.value').html(newVal);currentNumberEl.animate({top:'-100%'},speed,easing);nextNumberEl.animate({top:'-100%'},speed,easing,function(){currentNumberEl.find('.value').html(newVal);currentEl.find('.currentNumberWrapper, .nextNumberWrapper').css({top:0});});break;case 'countDown':currentNumberEl.animate({opacity:0.5},speed);setTimeout(function(){currentNumberEl.find('.value').html(newVal);currentNumberEl.animate({opacity:1},speed);},speed);break;case 'flipBottom':var counterEl=currentNumberEl.closest('.counterElement');nextNumberEl.find('.value').html(newVal);counterEl.addClass('flipBottom');setTimeout(function(){counterEl.find('.value').html(newVal);counterEl.removeClass('flipBottom');},600);break;case 'scaleUp':var counterEl=currentNumberEl.closest('.counterElement');nextNumberEl.find('.value').html(newVal);counterEl.addClass('scaleUp');setTimeout(function(){counterEl.find('.value').html(newVal);counterEl.removeClass('scaleUp');},600);break;case 'popup':var counterEl=currentNumberEl.closest('.counterElement');nextNumberEl.find('.value').html(newVal);counterEl.addClass('popup');setTimeout(function(){counterEl.find('.value').html(newVal);counterEl.removeClass('popup');},600);break;}}
if(typeof COUNTDOWN_INTERVAL!='undefined'){clearInterval(COUNTDOWN_INTERVAL);}
window.COUNTDOWN_INTERVAL=setInterval(function(){changeNumber(self.$el,numberArr.length-1,m.get('countdownAnimation'));},interval);}});__webpack_require__(1343);});}),403:(function(module,exports,__webpack_require__){var require;var require;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++){s(r[o]);}return s;})({1:[function(require,module,exports){module.exports=function arbitrator(callback,interval){return function(val){setTimeout(function(){callback(val);},interval);};};},{}],2:[function(require,module,exports){module.exports=function changeDate(date,units,_interval){var interval=_interval.slice(-1)==="s"?_interval.slice(0,-1):_interval;var ret=new Date(date);switch(interval.toLowerCase()){case "year":ret.setFullYear(ret.getFullYear()+units);break;case "quarter":ret.setMonth(ret.getMonth()+3*units);break;case "month":ret.setMonth(ret.getMonth()+units);break;case "week":ret.setDate(ret.getDate()+7*units);break;case "day":ret.setDate(ret.getDate()+units);break;case "hour":ret.setTime(ret.getTime()+units*36e5);break;case "minute":ret.setTime(ret.getTime()+units*6e4);break;case "second":ret.setTime(ret.getTime()+units*1e3);break;default:ret=new Date(NaN);break;}return ret;};},{}],3:[function(require,module,exports){window.moment_custom=require("./momentlte.js");window.moment=require("./momentlte.js");},{"./momentlte.js":6}],4:[function(require,module,exports){var ordinalSuffix=require("./ordinalSuffix.js");var offsetFix=require("./offsetFix.js");dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]};function pad(val,len){val=String(val);len=len||2;while(val.length<len){val="0"+val;}return val;}function getWeek(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-(targetThursday.getDay()+6)%7+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-(firstThursday.getDay()+6)%7+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/(864e5*7);return 1+Math.floor(weekDiff);}function getDayOfWeek(date){var dow=date.getDay();if(dow===0){dow=7;}return dow;}function kindOf(val){if(val===null){return "null";}if(val===undefined){return "undefined";}if((typeof val==="undefined"?"undefined":_typeof(val))!=="object"){return typeof val==="undefined"?"undefined":_typeof(val);}if(Array.isArray(val)){return "array";}return{}.toString.call(val).slice(8,-1).toLowerCase();}function dateFormat(){var token=/([YyMmDdSsH]{1,4})|([h]){1,2}|([AaoZ])/g;var timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;var timezoneClip=/[^-+\dA-Z]/g;return function(date,mask,localFlag,gmt){var _flags;var utc=!localFlag;if(arguments.length===1&&kindOf(date)==="string"&&!/\d/.test(date)){mask=date;date=undefined;}date=date||new Date();if(!(date instanceof Date)){date=new Date(date);}if(isNaN(date)){return new Date(date);}mask=String(dateFormat.masks[mask]||mask||dateFormat.masks["default"]);var _=utc?"getUTC":"get";var D=date[_+"Date"]();var d=date[_+"Day"]();var M=date[_+"Month"]();var Y=date[_+"FullYear"]();var H=date[_+"Hours"]();var m=date[_+"Minutes"]();var s=date[_+"Seconds"]();var L=date[_+"Milliseconds"]();var o=utc?0:date.getTimezoneOffset();var W=getWeek(date);var N=getDayOfWeek(date);var flags=(_flags={Q:"TO BE IMPLEMENTED",Qo:"TO BE IMPLEMENTED",Do:ordinalSuffix(D),D:D,DD:pad(D),DDD:"TO BE IMPLEMENTED",d:d,dd:pad(d),ddd:dateFormat.i18n.dayNames[D],dddd:dateFormat.i18n.dayNames[D]+"day",m:m,mm:pad(m),M:M+1,Mo:ordinalSuffix(M+1),MM:pad(M+1),MMM:dateFormat.i18n.monthNames[M].slice(0,3),MMMM:dateFormat.i18n.monthNames[M],YY:String(Y).slice(2),yy:String(Y).slice(2),yyyy:Y,YYYY:Y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H)},_defineProperty(_flags,"M",M),_defineProperty(_flags,"s",s),_defineProperty(_flags,"ss",pad(s)),_defineProperty(_flags,"l",pad(L,3)),_defineProperty(_flags,"L",pad(Math.round(L/10))),_defineProperty(_flags,"A",H<12?"AM":"PM"),_defineProperty(_flags,"a",H<12?"AM":"PM"),_defineProperty(_flags,"Z",o?offsetFix(o):"Z"),_defineProperty(_flags,"S",["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]),_defineProperty(_flags,"W",W),_defineProperty(_flags,"N",N),_flags);return mask.replace(token,function(match){if(match in flags){return flags[match];}return match.slice(1,match.length-1);});};}module.exports=dateFormat();},{"./offsetFix.js":7,"./ordinalSuffix.js":8}],5:[function(require,module,exports){var fromISOString=function(){var origParse=Date.parse,numericKeys=[1,4,5,6,7,10,11];return function(date){var timestamp,struct,minutesOffset=0;if(struct=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(date)){for(var i=0,k;k=numericKeys[i];++i){struct[k]=+struct[k]||0;}struct[2]=(+struct[2]||1)-1;struct[3]=+struct[3]||1;if(struct[8]!=="Z"&&struct[9]!==undefined){minutesOffset=struct[10]*60+struct[11];if(struct[9]==="+"){minutesOffset=0-minutesOffset;}}timestamp=Date.UTC(struct[1],struct[2],struct[3],struct[4],struct[5]+minutesOffset,struct[6],struct[7]);}else{console.warn("Bad date object passed",date);return new Date();}return new Date(timestamp);};}();module.exports=fromISOString;},{}],6:[function(require,module,exports){var dateFormatter=require("./format.js");var dateFromISO=require("./fromISOString.js");var Arbitrator=require("./arbitrator.js");var changeDate=require("./changeDate.js");var offsetFix=require("./offsetFix.js");var CONF={ISOFORMAT:"isoDateTime"};var isoFormat=function isoFormat(dateObj){function pad(number){if(number<10){return "0"+number;}return number;}var toISOString=function toISOString(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"Z";};return toISOString.call(dateObj);};TYPE={STRING:"STRING",DATE:"DATE",OBJECT:"OBJECT",MOMENT:"MOMENT",FUNCTION:"FUNCTION"};function typeDetect(object){var string=typeof object==="string"?TYPE.STRING:null;var DateObject=Object.prototype.toString.call(object)==="[object Date]"?TYPE.DATE:null;var object=(typeof object==="undefined"?"undefined":_typeof(object))==="object"?TYPE.OBJECT:null;var Moment=typeof object==="function"&&object._isAMomentObject?TYPE.MOMENT:null;var fxn=typeof object==="function"?TYPE.FUNCTION:null;return[string,DateObject,object,fxn].reduce(function(val,nextVal){return val?val:nextVal;});}function isPresent(thing){return thing!=null||!!thing;}var momentlte=function momentlte(dateObjOrString){var _date;var paramType=typeDetect(dateObjOrString);switch(paramType){case TYPE.STRING:_date=dateFromISO(dateObjOrString);break;case TYPE.DATE:_date=new Date(dateObjOrString);break;case TYPE.OBJECT:_date=new Date(dateObjOrString["year"],dateObjOrString["month"],dateObjOrString["date"],dateObjOrString["hours"],dateObjOrString["minutes"],dateObjOrString["seconds"],dateObjOrString["milliseconds"]);break;case TYPE.MOMENT:_date=new Date(dateObjOrString._d);break;case TYPE.NUMBER:throw "We dont support numbers.";break;default:_date=new Date();}var _response=function _response(val){var valType=typeDetect(val);if(valType===TYPE.DATE){_date=val;}else if(valType===TYPE.OBJECT){Object.keys(val).forEach(function(key,idx,keys){_response[key](val[key]);});return _response;}else{_date=new Date();}return _response;};_response._d=_date;_response._isAMomentObject=true;_response.every=function(numValue,_unit,callback){var arbitrator=Arbitrator(callback,numValue*1e3);return arbitrator;};_response.add=function(interval,unit){_date=changeDate(_date,interval,unit);_response._d=_date;return _response;};_response.minus=function(val,unit){return _response.add(-1*val,unit);};_response.toLocaleISOString=function(){var initial=dateFormatter(_date,"YYYY-MM-DDTHH:mm:ss",true);var offset=_date.getTimezoneOffset();var offsetString=offsetFix(offset);return initial+offsetString;};_response.toISOString=function(){return _response.format("yyyy-MM-DDTHH:mm:ssZ");};_response.format=function(formatStr,localFlag){return dateFormatter(_date,formatStr,localFlag);};_response.valueOf=function(){return+_date;};_response.get=_response.set=function(key,val){if(typeDetect(key)===TYPE.OBJECT){Object.keys(key).forEach(function(_key){_response.set(_key,key[_key]);});return _response;}else{return isPresent(val)?_response[key](val):_response[key]();}};_response.year=_response.years=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="FullYear";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.month=_response.months=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Month";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.date=_response.dates=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Date";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.hour=_response.hours=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Hours";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.minute=_response.minutes=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Minutes";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.second=_response.seconds=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Seconds";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.millisecond=_response.milliseconds=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Milliseconds";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.localYear=_response.localYears=function(){return _date.getFullYear();};_response.localMonth=_response.localMonths=function(){return _date.getMonth();};_response.localDate=_response.localDates=function(){return _date.getDate();};_response.localHour=_response.localHours=function(){return _date.getHours();};_response.localMinute=_response.localMinutes=function(){return _date.getMinutes();};_response.localSecond=_response.localSeconds=function(){return _date.getSeconds();};_response.localMillisecond=_response.localMilliseconds=function(){return _date.getMilliseconds();};return _response;};module.exports=momentlte;},{"./arbitrator.js":1,"./changeDate.js":2,"./format.js":4,"./fromISOString.js":5,"./offsetFix.js":7}],7:[function(require,module,exports){function offsetFix(numMinutes){var numMinutes=parseInt(numMinutes);if(!numMinutes)return "+00:00";function pad(number){var resp;var isNeg=number<0;var number=isNeg?number*-1:number;if(number<10){return "0"+number;}return number;}var isNeg=numMinutes<0;var numMinutes=isNeg?numMinutes*-1:numMinutes;var numHours=Math.floor(numMinutes/60);var remainMin=numMinutes%60;var numHoursString=pad(numHours);var remainMinString=pad(remainMin);var _resp=numHoursString+":"+remainMinString;return(isNeg?"+":"-")+_resp;}module.exports=offsetFix;},{}],8:[function(require,module,exports){module.exports=function getOrdinal(n){var s=["th","st","nd","rd"],v=n%100;return n+(s[(v-20)%10]||s[v]||s[0]);};},{}]},{},[3]);})});